# Lalafo → Telegram бот (GitHub Actions + Deno)

Этот репозиторий рассчитан на автозапуск бота по расписанию через **GitHub Actions**.

## Как это работает

- Код бота в `main.ts` (Deno).
- GitHub Actions по cron-запуску (каждые N минут) поднимает Deno,
  запускает `main.ts`, бот делает один проход (парсинг + отправка в Telegram) и завершает работу.
- Никакого вечного процесса нет — каждый запуск отдельный прогон.

## Переменные окружения (GitHub Secrets)

В настройках репозитория GitHub (`Settings → Secrets and variables → Actions → New repository secret`)
нужно задать:

- `TELEGRAM_BOT_TOKEN` — токен Telegram-бота;
- `TELEGRAM_CHAT_ID` — ID чата/канала;
- при желании, можно добавить:
  - `ADS_LIMIT` — максимально объявлений за один прогон (строка, напр. `30`);
  - `PAGES` — сколько страниц смотреть (строка, напр. `3`).

## Лимиты нагрузки

По умолчанию workflow настроен так, чтобы:

- запускаться не чаще, чем раз в несколько минут;
- не перебирать слишком много страниц/объявлений за один прогон.

Частоту запусков можно менять, правя cron-расписание в workflow-файле.

## Структура

- `main.ts` — логика бота (используется как есть из твоего файла).
- `.github/workflows/run-bot.yml` — GitHub Actions workflow для расписания и запуска.
